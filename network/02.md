# 네트워크 모델

## 네트워크 모델의 종류

### TCP/IP 모델

1. 응용 (4계층)
2. 전송 (3계층)
3. 네트워크 (2계층)
4. 네트워크 인터페이스 (1계층)

### OSI 7계층 모델

1. 응용 (7계층)
    - HTTP
    - SMTP, IMAP, POP, SNMP, FTP, TELNET, SSH
2. 표현 (6계층)
    - SMB, AFP, XDR
3. 세션 (5계층)
    - NetBIOS
4. 전송 (4계층)
    - TCP, UDP
    - SPX
5. 네트워크 (3계층)
    - IP, ICMP, ARP
    - IGMP, X.25, CLNP,  RARP, BGP, OSPF, RIP, IPX, DDP
6. 데이터 링크 (2계층)
    - 이더넷
    - 토큰링, PPP, HDLC, 프레임 릴레이, ISDN, ATM, 무선랜, FDDI
7. 물리 (1계층)
    - 전선, 전파, 광섬유, 동축케이블, 도파관, PSTN, 리피터, DSU, CSU, 모뎀

## 두 모델 비교

### 공통점과 차이점

- 공통점
    - 계층적 네트워크 모델
    - 계층간 역할 정의
- 차이점
    - 계층의 수
    - OSI
        - 역할 기반
        - 통신 전반에 대한 표준
        - 실무적
    - TCP/IP
        - 프로토콜 기반
        - 데이터 전송 기술 특화
        - 실무적

## 네트워크를 통해 전달되는 데이터, 패킷

### 패킷이란?

- 여러 프로토콜들로 캡슐화된 것
- 네트워크 상에서 전달되는 데이터를 통칭
- 네트워크에서 전달하는 데이터의 형식화된 블록
- 제어 정보 + 사용자 데이터(페이로드)
- 프로토콜들 간 순서가 존재
- 구성
    1. 헤더 
    2. 페이로드
    3. 풋터
        - Ethernet만 사용
- 헤더, 페이로드, 풋터는 상대적인 개념
    1. 헤더(TCP) + 페이로드(데이터)
    2. 헤더(IPv4) + 페이로드(TCP + 데이터)
    3. 헤더(Ethernet) + 페이로드(IPv4 + TCP + 데이터)

### 패킷을 이용한 통신과정

#### 캡슐화

- 여러 프로토콜을 이용해서 보낼 때 패킷을 만드는 과정
1. 데이터
2. TCP + 데이터
3. IPv4 + TCP + 데이터
4. Ethernet + IPv4 + TCP + 데이터
- 상위 계층에서 하위 계층 순으로 붙힘 (7 -> 1)
- 같은 계층일 경우, 순서가 있음

#### 디캡슐화

- 패킷을 받았을 때 프로토콜들을 하나씩 확인하면서 데이터를 확인하는 과정
1. Ethernet + IPv4 + TCP + 데이터
2. IPv4 + TCP + 데이터
3. TCP + 데이터
4. 데이터
- 하위 계층에서 상위 계층 순으로 확인 (1 -> 7)

### 계층별 패킷의 이름 PDU (Protocol Data Unit)

1. 세그먼트
    - 4계층
    - TCP + 데이터
2. 패킷
    - 3계층
    - IPv4 + TCP + 데이터
3. 프레임
    - 2계층
    - Ethernet + IPv4 + TCP + 데이터

## 실습

### 프로토콜의 캡슐화된 모습과 계층별 프로토콜들을 확인해보기

- ARP
    - Ethernet + ARP
- ICMP
    - Ethernet + IPv4 + ICMP